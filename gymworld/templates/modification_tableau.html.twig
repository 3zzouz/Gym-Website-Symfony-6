{% extends 'base.html.twig' %}
{% block body %}
    <section class="class-timetable-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="section-title">
                        <span>Find Your Time</span>
                        <h2>Find Your Time</h2>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="table-controls">
                        <ul>
                            <li class="active" data-tsfilter="all">All event</li>
                            <li data-tsfilter="fitness">Fitness tips</li>
                            <li data-tsfilter="motivation">Motivation</li>
                            <li data-tsfilter="workout">Workout</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="class-timetable">
                        <table id="myTable">
                            <thead>
                            <tr>
                                <th></th>
                                <th>Monday</th>
                                <th>Tuesday</th>
                                <th>Wednesday</th>
                                <th>Thursday</th>
                                <th>Friday</th>
                                <th>Saturday</th>
                                <th>Sunday</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="class-time">6.00am - 8.00am</td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="workout">
                                    <h5>WEIGHT LOOSE</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="fitness">
                                    <h5>Cardio</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="workout">
                                    <h5>Yoga</h5>
                                    <span>Keaf Shen</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="fitness">
                                    <h5>Fitness</h5>
                                    <span>Kimberly Stone</span>
                                </td>
                                <td class="dark-bg blank-td"></td>
                                <td class="hover-bg ts-meta" data-tsmeta="motivation">
                                    <h5>Boxing</h5>
                                    <span>Rachel Adam</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="workout">
                                    <h5>Body Building</h5>
                                    <span>Robert Cage</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="class-time">10.00am - 12.00am</td>
                                <td class="blank-td"></td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="fitness">
                                    <h5>Fitness</h5>
                                    <span>Kimberly Stone</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="workout">
                                    <h5>WEIGHT LOOSE</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="motivation">
                                    <h5>Cardio</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="workout">
                                    <h5>Body Building</h5>
                                    <span>Robert Cage</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="motivation">
                                    <h5>Karate</h5>
                                    <span>Donald Grey</span>
                                </td>
                                <td class="blank-td"></td>
                            </tr>
                            <tr>
                                <td class="class-time">5.00pm - 7.00pm</td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="fitness">
                                    <h5>Boxing</h5>
                                    <span>Rachel Adam</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="motivation">
                                    <h5>Karate</h5>
                                    <span>Donald Grey</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="workout">
                                    <h5>Body Building</h5>
                                    <span>Robert Cage</span>
                                </td>
                                <td class="blank-td"></td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="workout">
                                    <h5>Yoga</h5>
                                    <span>Keaf Shen</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="motivation">
                                    <h5>Cardio</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="fitness">
                                    <h5>Fitness</h5>
                                    <span>Kimberly Stone</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="class-time">7.00pm - 9.00pm</td>
                                <td class="hover-bg ts-meta" data-tsmeta="motivation">
                                    <h5>Cardio</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                                <td class="dark-bg blank-td"></td>
                                <td class="hover-bg ts-meta" data-tsmeta="fitness">
                                    <h5>Boxing</h5>
                                    <span>Rachel Adam</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="workout">
                                    <h5>Yoga</h5>
                                    <span>Keaf Shen</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="motivation">
                                    <h5>Karate</h5>
                                    <span>Donald Grey</span>
                                </td>
                                <td class="dark-bg hover-bg ts-meta"
                                    data-tsmeta="fitness">
                                    <h5>Boxing</h5>
                                    <span>Rachel Adam</span>
                                </td>
                                <td class="hover-bg ts-meta" data-tsmeta="workout">
                                    <h5>WEIGHT LOOSE</h5>
                                    <span>RLefew D. Loee</span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <button id="add">Add Row</button>
    </section>
{% endblock %}

{% block javascripts %}
    <script>
        // Function to add a row
        function addRow() {
            var table = document.getElementById('myTable');
            var row = table.insertRow(-1);

            // Add cells to the row
            for (var i = 0; i < table.rows[0].cells.length; i++) {
                var cell = row.insertCell(i);
                cell.innerHTML = '&nbsp;'; // Add a non-breaking space
            }

            // Add a cell with a delete button
            var deleteCell = row.insertCell(-1);
            deleteCell.innerHTML = '<button class="delete">Delete</button>';
        }

        // Function to delete a row
        function deleteRow() {
            var table = document.getElementById('myTable');
            if (table.rows.length > 1) { // Don't delete the row if it's the only one
                table.deleteRow(-1);
            }
        }

        // Function to handle cell click
        function cellClick(e) {
            var cell = e.target;

            // If the delete button was clicked, delete the row
            if (cell.classList.contains('delete')) {
                var row = cell.parentNode;
                row.parentNode.removeChild(row);
                return;
            }

            // If the cell has the blank-td class, add h5 and span elements
            if (cell.classList.contains('blank-td') && cell.innerHTML.trim() === '&nbsp;') {
                cell.innerHTML = '<h5>&nbsp;</h5><span>&nbsp;</span>';
            }

            // If the cell has a h5 or span element, make it editable
            if (cell.querySelector('h5, span')) {
                var element = cell.querySelector('h5, span');
                element.setAttribute('contenteditable', true);
                element.focus();

                element.addEventListener('blur', function () {
                    element.removeAttribute('contenteditable');

                    // If the content is empty after editing, add a non-breaking space
                    if (element.textContent.trim() === '') {
                        element.innerHTML = '&nbsp;';
                    }

                    // Here you can add code to save the changes to your server
                });
            }
        }

        // Add the cellClick function as a click event listener to the table
        document.getElementById('myTable').addEventListener('click', cellClick);
    </script>
{% endblock %}